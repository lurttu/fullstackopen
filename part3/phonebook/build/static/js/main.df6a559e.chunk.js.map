{"version":3,"sources":["components/Person.js","components/Numbers.js","components/NewPersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deleteHandler","name","number","onClick","Numbers","array","query","persons","filter","map","key","id","el","props","toLowerCase","indexOf","NewPersonForm","nameHandler","numberHandler","addHandler","onChange","type","Filter","filterHandler","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","event","target","value","preventDefault","length","returnedPerson","concat","setTimeout","document","getElementById","window","alert","confirm","oldPerson","find","p","changedPerson","catch","n","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.df6a559e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deleteHandler }) => {\n  return (\n    <p>\n      {person.name} {person.number}{' '}\n      <button onClick={() => deleteHandler(person)}>delete</button>\n    </p>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst filterNumbers = (array, query) => {\n  return array.filter(el => {\n    return (\n      el.props.person.name.toLowerCase().indexOf(query.toLowerCase()) !== -1\n    )\n  })\n}\n\nconst Numbers = ({ persons, filter, deleteHandler }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {filterNumbers(\n        persons.map(person => (\n          <Person\n            key={person.id}\n            person={person}\n            deleteHandler={deleteHandler}\n          />\n        )),\n        filter\n      )}\n    </div>\n  )\n}\n\nexport default Numbers\n","import React from \"react\";\n\nconst NewPersonForm = ({ nameHandler, numberHandler, addHandler }) => {\n  return (\n    <form>\n      <div>\n        name: <input id=\"name\" onChange={nameHandler} />\n      </div>\n      <div>\n        number: <input id=\"number\" onChange={numberHandler} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addHandler}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewPersonForm;\n","import React from \"react\";\n\nconst Filter = ({ filterHandler }) => {\n  return (\n    <div>\n      filter shown with: <input id=\"filter\" onChange={filterHandler} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message[0] === null) {\n    return null\n  }\n\n  if (message[1] === 'error') {\n    return <div className='error'>{message[0]}</div>\n  } else return <div className='message'>{message[0]}</div>\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteByID = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deleteByID }\n","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport NewPersonForm from './components/NewPersonForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState([null, ''])\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const addPerson = event => {\n    event.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber,\n      id: persons[persons.length - 1].id + 1\n    }\n\n    if (\n      persons.map(person => person.name).indexOf(person.name) === -1 && //name of person is not on the persons list (index is -1) and\n      person.name !== '' //name is not empty\n    ) {\n      personService\n        .create(person)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n        })\n        .then(() => {\n          setMessage([`Person '${person.name}' has been added`, ''])\n          setTimeout(() => {\n            setMessage([null, ''])\n          }, 5000)\n        })\n\n      document.getElementById('name').value = ''\n      document.getElementById('number').value = ''\n    }\n    if (person.name === '') {\n      window.alert(\"name can't be empty\")\n    }\n    if (persons.map(person => person.name).indexOf(person.name) !== -1) {\n      window.confirm(\n        `${person.name} is already added to the phonebook, replace the old number with a new one?`\n      )\n      const oldPerson = persons.find(p => p.name === person.name)\n      const changedPerson = { ...oldPerson, number: person.number }\n\n      personService\n        .update(oldPerson.id, changedPerson)\n        .then(returnedPerson => {\n          setPersons(\n            persons.map(p => (p.id !== oldPerson.id ? p : returnedPerson))\n          )\n        })\n        .then(() => {\n          setMessage([`${person.name}'s number has been updated`, ''])\n          setTimeout(() => {\n            setMessage([null, ''])\n          }, 5000)\n        })\n        .catch(() => {\n          setMessage([\n            `${person.name}'s number is already on the server, and updating the phone number is not yet implemented on the backend`,\n            'error'\n          ])\n          setTimeout(() => {\n            setMessage([null, ''])\n          }, 5000)\n        })\n    }\n  }\n\n  const updateNewName = event => {\n    setNewName(event.target.value)\n  }\n\n  const updateNewNumber = event => {\n    setNewNumber(event.target.value)\n  }\n\n  const updateFilter = event => {\n    setFilter(event.target.value)\n  }\n\n  const deleteHandler = person => {\n    window.confirm(`Delete ${person.name}?`)\n    personService\n      .deleteByID(person.id)\n      .then(() => {\n        setMessage([`'${person.name}' has been deleted`, ''])\n        setTimeout(() => {\n          setMessage([null, ''])\n        }, 5000)\n      })\n      .catch(() => {\n        setMessage([\n          `'${person.name}' has already been deleted from the server`,\n          'error'\n        ])\n        setTimeout(() => {\n          setMessage([null, ''])\n        }, 5000)\n      })\n    setPersons(persons.filter(n => n.id !== person.id))\n  }\n\n  return (\n    <div className='container'>\n      <h2>Phonebook</h2>\n      <Filter filterHandler={updateFilter} />\n      <h3>Add a new number</h3>\n      <Notification message={message} />\n      <NewPersonForm\n        nameHandler={updateNewName}\n        numberHandler={updateNewNumber}\n        addHandler={addPerson}\n      />\n      <Numbers\n        persons={persons}\n        filter={filter}\n        deleteHandler={deleteHandler}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}